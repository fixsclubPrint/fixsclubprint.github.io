<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FixsClub Print | Official Master Portal</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        :root { 
            --sidebar-bg: #2c3e50; --active-blue: #1a237e; --text-white: #ecf0f1; 
            --uidai-blue: #003366; --success: #27ae60;
        }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; background: #f4f7f6; overflow: hidden; }
        .app-container { display: flex; flex-grow: 1; overflow: hidden; }
        .sidebar { width: 260px; background: var(--sidebar-bg); color: var(--text-white); display: flex; flex-direction: column; overflow-y: auto; }
        .menu-item { padding: 12px 20px; cursor: pointer; border-bottom: 1px solid #34495e; font-size: 13px; }
        .active-nav { background: var(--active-blue) !important; border-left: 4px solid #fff; }
        .main-content { flex-grow: 1; overflow-y: auto; padding: 20px; }
        .box { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .form-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 15px; }
        .form-group { display: flex; flex-direction: column; }
        .form-group label { font-size: 12px; font-weight: bold; margin-bottom: 5px; color: #333; }
        input, select, textarea { padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 13px; }
        .aadhaar-box { width: 325px; height: 204px; background: white; border: 0.5px solid #999; position: relative; overflow: hidden; border-radius: 8px; }
        .card-header { height: 50px; display: flex; justify-content: space-between; align-items: center; padding: 0 10px; }
        .brush-saffron { background: #f1a366; width: 100px; height: 14px; border-radius: 10px; font-size: 10px; font-weight: bold; text-align: center; color: #000; }
        .brush-green { background: #97cc9e; width: 110px; height: 12px; border-radius: 10px; font-size: 8px; font-weight: bold; text-align: center; color: #000; margin-top: 2px; }
        .photo-frame { width: 66px; height: 80px; position: absolute; left: 12px; top: 55px; border: 0.5px solid #999; object-fit: cover; }
        .front-details { position: absolute; left: 88px; top: 55px; font-size: 10px; line-height: 1.2; text-align: left; }
        #disp_num { position: absolute; bottom: 35px; width: 100%; text-align: center; font-size: 17px; font-weight: bold; letter-spacing: 1px; }
        .footer-red { position: absolute; bottom: 0; width: 100%; height: 25px; border-top: 1.5px solid red; display: flex; justify-content: center; align-items: center; font-weight: 900; color: #000; font-size: 15px; }
        .address-section { position: absolute; left: 12px; top: 58px; width: 180px; font-size: 8.2px; line-height: 1.1; text-align: left; color: #333; }
        .qr-section { position: absolute; right: 8px; top: 50px; width: 100px; height: 100px; }
        .footer-back { position: absolute; bottom: 0; width: 100%; height: 22px; border-top: 1px solid red; display: flex; justify-content: space-around; align-items: center; font-size: 7.5px; font-weight: bold; }
        .btn-preview { background: #1a237e; color: white; padding: 12px; border: none; border-radius: 25px; width: 100%; font-weight: bold; cursor: pointer; margin-top: 10px; font-size: 16px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="sidebar">
            <div style="padding: 20px; text-align: center; font-weight: bold; background: #1a252f;">FixsdigitalSeva</div>
            <div class="menu-item active-nav">üè† DASHBOARD</div>
            <div class="menu-item">üÜî AADHAAR PRINT</div>
        </div>

        <div class="main-content">
            <div id="aadhaar-view" class="box">
                <h2 style="text-align: center; color: var(--uidai-blue); margin-top: 0;">Aadhaar Portal</h2>
                
                <div class="form-grid">
                    <div class="form-group"><label>Aadhar No.</label><input type="text" id="a_num" maxlength="12"></div>
                    <div class="form-group"><label>Full Name</label><input type="text" id="name_en" oninput="handleTranslation()"></div>
                    <div class="form-group"><label>Father/Husband Name</label><input type="text" id="fname_en" oninput="syncAddr()"></div>
                    <div class="form-group"><label>Village/City</label><input type="text" id="vill" oninput="syncAddr()"></div>
                    <div class="form-group"><label>Post Office</label><input type="text" id="po" oninput="syncAddr()"></div>
                    <div class="form-group"><label>District</label><input type="text" id="dist" oninput="syncAddr()"></div>
                    <div class="form-group"><label>State</label><input type="text" id="state" oninput="syncAddr()"></div>
                    <div class="form-group"><label>Pincode</label><input type="text" id="pin" maxlength="6" oninput="syncAddr()"></div>
                    <div class="form-group"><label>DOB (DD/MM/YYYY)</label><input type="text" id="dob" placeholder="DD/MM/YYYY"></div>
                    <div class="form-group"><label>Gender</label>
                        <select id="gender" onchange="syncAddr()">
                            <option value="MALE">MALE</option>
                            <option value="FEMALE">FEMALE</option>
                        </select>
                    </div>
                    <div class="form-group"><label>Name (Hindi)</label><input type="text" id="name_hi"></div>
                    <div class="form-group"><label>Language</label><select><option>HINDI</option></select></div>
                    <div class="form-group"><label>Gender (Hindi)</label><input type="text" id="gender_hi" value="‡§™‡•Å‡§∞‡•Å‡§∑"></div>
                    <div class="form-group"><label>Photo</label><input type="file" onchange="loadFile(event)"></div>
                </div>

                <div class="form-group"><label>Full Address (English)</label><textarea id="addr_en" rows="2"></textarea></div>
                <div class="form-group" style="margin-top: 10px;"><label>Full Address (Hindi)</label><textarea id="addr_hi" rows="2"></textarea></div>

                <button class="btn-preview" onclick="generateOriginalAadhaar()">1. Preview Aadhaar</button>

                <div id="print-zone" class="hidden" style="margin-top: 30px; text-align: center;">
                    <div id="capture-box" style="display: inline-flex; gap: 20px; padding: 20px; background: #f0f0f0; border-radius: 10px;">
                        <div class="aadhaar-box" id="front-card">
                            <div class="card-header">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/e/e1/State_Emblem_of_India.svg" width="22">
                                <div><div class="brush-saffron">‡§≠‡§æ‡§∞‡§§ ‡§∏‡§∞‡§ï‡§æ‡§∞</div><div class="brush-green">Government of India</div></div>
                                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/c/cf/Aadhaar_Logo.svg/1200px-Aadhaar_Logo.svg.png" width="45">
                            </div>
                            <img id="card_img" class="photo-frame">
                            <div class="front-details">
                                <b id="d_name_hi" style="font-size: 11px;"></b><br><span id="d_name_en"></span><br><br>
                                ‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø / DOB: <span id="d_dob"></span><br><span id="d_gender_hi"></span> / <span id="d_gender_en"></span>
                            </div>
                            <div id="disp_num"></div>
                            <div class="footer-red">‡§Æ‡•á‡§∞‡§æ ‡§Ü‡§ß‡§æ‡§∞, ‡§Æ‡•á‡§∞‡•Ä ‡§™‡§π‡§ö‡§æ‡§®</div>
                        </div>

                        <div class="aadhaar-box" id="back-card">
                            <div class="card-header" style="height:45px;">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/e/e1/State_Emblem_of_India.svg" width="18">
                                <div style="font-size: 8px; font-weight: bold;">‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§™‡§π‡§ö‡§æ‡§® ‡§™‡•ç‡§∞‡§æ‡§ß‡§ø‡§ï‡§∞‡§£</div>
                                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/c/cf/Aadhaar_Logo.svg/1200px-Aadhaar_Logo.svg.png" width="38">
                            </div>
                            <div class="address-section">
                                <b>‡§™‡§§‡§æ:</b><br><span id="d_addr_hi"></span><br>
                                <b>Address:</b><br><span id="d_addr_en"></span>
                            </div>
                            <div id="qrcode" class="qr-section"></div>
                            <div class="footer-back">
                                <span>1947</span> <span>help@uidai.gov.in</span> <span>www.uidai.gov.in</span>
                            </div>
                        </div>
                    </div>
                    <br><button class="btn-preview" style="background: var(--success); width: auto; padding: 10px 40px;" onclick="downloadAadhaar()">Download PNG</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function translate(text) {
            if(!text) return "";
            try {
                const res = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=hi&dt=t&q=${encodeURI(text)}`);
                const data = await res.json();
                return data[0][0][0];
            } catch { return text; }
        }

        async function handleTranslation() {
            document.getElementById('name_hi').value = await translate(document.getElementById('name_en').value);
        }

        async function syncAddr() {
            let gen = document.getElementById('gender').value;
            let rel = (gen === "MALE") ? "S/O: " : "W/O: ";
            let h_rel = (gen === "MALE") ? "‡§Ü‡§§‡•ç‡§Æ‡§ú: " : "‡§Ö‡§∞‡•ç‡§ß‡§æ‡§Ç‡§ó‡§ø‡§®‡•Ä: ";
            document.getElementById('gender_hi').value = (gen === "MALE") ? "‡§™‡•Å‡§∞‡•Å‡§∑" : "‡§Æ‡§π‡§ø‡§≤‡§æ";
            
            let father = document.getElementById('fname_en').value;
            let vill = document.getElementById('vill').value;
            let po = document.getElementById('po').value;
            let dist = document.getElementById('dist').value;
            let state = document.getElementById('state').value;
            let pin = document.getElementById('pin').value;

            document.getElementById('addr_en').value = rel + [father, vill, po, dist, state, pin].filter(p => p).join(', ');
            
            let fatherHi = await translate(father);
            let restHi = await translate([vill, po, dist, state, pin].filter(p => p).join(', '));
            document.getElementById('addr_hi').value = h_rel + fatherHi + ", " + restHi;
        }

        function loadFile(e) { document.getElementById('card_img').src = URL.createObjectURL(e.target.files[0]); }

        function generateOriginalAadhaar() {
            const num = document.getElementById('a_num').value;
            document.getElementById('disp_num').innerText = num.replace(/(.{4})/g, '$1 ').trim();
            document.getElementById('d_name_hi').innerText = document.getElementById('name_hi').value;
            document.getElementById('d_name_en').innerText = document.getElementById('name_en').value;
            document.getElementById('d_dob').innerText = document.getElementById('dob').value;
            document.getElementById('d_gender_en').innerText = document.getElementById('gender').value;
            document.getElementById('d_gender_hi').innerText = document.getElementById('gender_hi').value;
            document.getElementById('d_addr_en').innerText = document.getElementById('addr_en').value;
            document.getElementById('d_addr_hi').innerText = document.getElementById('addr_hi').value;

            document.getElementById('qrcode').innerHTML = "";
            new QRCode(document.getElementById("qrcode"), { text: "UID:"+num, width: 100, height: 100 });
            document.getElementById('print-zone').classList.remove('hidden');
        }

        function downloadAadhaar() {
            html2canvas(document.getElementById('capture-box'), { scale: 3 }).then(canvas => {
                let link = document.createElement('a');
                link.download = 'Aadhaar_PVC.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }
    </script>
</body>
</html>
